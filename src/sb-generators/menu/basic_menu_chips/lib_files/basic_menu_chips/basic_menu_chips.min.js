!function(t){jQuery.fn.multiFind=function(t){if("string"==typeof t){var e,i=t.split(",");for(var n in i){var r=i[n];0==n?e=this.find(" "+r):e.add(this.find(" "+r))}return e}return this}}(jQuery),function(t){jQuery.fn.basicMenuChips=function(e){var i=t.extend({fullWidth:!1,fixed:!1,scrollTarget:!0,activeFromTarget:!0,slider:!1,menuWrap:"div",menuItems:" li:not(li li)",selectWidthMenuItems:" li:not(li li)",menuItemsAndSubMenu:" li",widthFactor:1,duration:1e3,easing:"swing",accountingMenuHeight:!0,deleteClassActiveNoFocusTargetsBlock:!1,vertical:!1},e),n=function(e){this.containers=e,this.responsiveOptions=i,this.renderedOptions={};var n=this,r=this.renderedOptions,s={animatingScroll:!1};this.create=function(){var e=n.renderedOptions;e.fullWidth=!1,e.fixed=!1,e.scrollTarget=!1,e.activeFromTarget=!1,e.slider=!1,o(),t(window).on("resize",o)},this.destroy=function(){t(window).off("resize",o),n.setFullWidth(!1),n.setFixed(!1),n.setScrollTarget(!1),n.setActiveFromTarget(!1),n.setSlider(!1)},this.setOption=function(e){t.extend(!0,n.responsiveOptions,e),o()};var o=function(){var t=x(),e=n.renderedOptions,i={FW:!1,F:!1,ST:!1,AFT:!1,S:!1};e.menuWrap!==t.menuWrap&&(e.menuWrap=t.menuWrap,i.FW=!0,i.F=!0,i.ST=!0,i.AFT=!0,i.S=!0),e.menuItems!==t.menuItems&&(e.menuItems=t.menuItems,i.FW=!0,i.F=!0,i.ST=!0,i.AFT=!0,i.S=!0),e.selectWidthMenuItems!==t.selectWidthMenuItems&&(e.selectWidthMenuItems=t.selectWidthMenuItems,i.FW=!0),e.menuItemsAndSubMenu!==t.menuItemsAndSubMenu&&(e.menuItemsAndSubMenu=t.menuItemsAndSubMenu,i.AFT=!0,i.S=!0),e.widthFactor!==t.widthFactor&&(e.widthFactor=t.widthFactor,i.FW=!0),e.duration!==t.duration&&(e.duration=t.duration,i.ST=!0),e.easing!==t.easing&&(e.easing=t.easing,i.ST=!0),e.accountingMenuHeight!==t.accountingMenuHeight&&(e.accountingMenuHeight=t.accountingMenuHeight,i.ST=!0,i.AFT=!0,i.S=!0),e.deleteClassActiveNoFocusTargetsBlock!==t.deleteClassActiveNoFocusTargetsBlock&&(e.deleteClassActiveNoFocusTargetsBlock=t.deleteClassActiveNoFocusTargetsBlock,i.AFT=!0),e.vertical!==t.vertical&&(e.vertical=t.vertical,i.S=!0),i.FW&&n.setFullWidth(!1),i.F&&n.setFixed(!1),i.ST&&n.setScrollTarget(!1),i.AFT&&n.setActiveFromTarget(!1),i.S&&n.setSlider(!1),n.setFullWidth(t.fullWidth),n.setFixed(t.fixed),n.setScrollTarget(t.scrollTarget),n.setActiveFromTarget(t.activeFromTarget),n.setSlider(t.slider)};this.setFullWidth=function(t){t!==r.fullWidth&&(r.fullWidth=t,t?a():u())};var a=function(){c(),t(window).on("resize",d)},c=function(){n.containers.each(function(){var e,i,n,s,o,a,c,d,u,l;e=t(this).multiFind(r.menuItems),i=t(this).multiFind(r.selectWidthMenuItems),n=e.size(),s=0,e.each(function(){var e=t(this);e.css({marginLeft:Math.round(e.css("margin-left")),marginRight:Math.round(e.css("margin-right")),paddingLeft:Math.round(e.css("padding-left")),paddingRight:Math.round(e.css("padding-right")),borderLeftWidth:Math.round(e.css("border-left-width")),borderRightWidth:Math.round(e.css("border-right-width"))}),e.outerWidth(Math.ceil(e.outerWidth())),s+=e.outerWidth(!0)}),o=t(this).width(),a=i.size(),c=Math.ceil(s/Math.floor(o)),r.widthFactor>c&&(c=r.widthFactor),d=Math.floor(o)*c-s,u=Math.floor(d/a),l=d-u*a,i.each(function(){l>0?(t(this).outerWidth(t(this).outerWidth()+u+1),l--):t(this).outerWidth(t(this).outerWidth()+u)})})},d=function(){l(),c()},u=function(){l(),t(window).off("resize",d)},l=function(){n.containers.each(function(){var e=t(this).multiFind(r.menuItems);e.each(function(){var e=t(this).attr("style");e=e.replace(/margin-left:[^;]*;/gim," ").replace(/margin-right:[^;]*;/gim," ").replace(/padding-left:[^;]*;/gim," ").replace(/padding-right:[^;]*;/gim," ").replace(/border-left-width:[^;]*;/gim," ").replace(/border-right-width:[^;]*;/gim," ").replace(/width:[^;]*;/gim," ").replace(/\s+/gim," "),t(this).attr("style",e)})})};this.setFixed=function(t){t!==r.fixed&&(r.fixed=t,t?h():m())};var h=function(){f(),t(window).on("resize scroll",f)},f=function(){n.containers.each(function(){var e=t(this).closest(r.menuWrap);e.size()&&e.get(0)===this&&(e=t(this).parent("*")),t(window).scrollTop()>e.offset().top?t(this).hasClass("bmc__fixed")||t(this).addClass("bmc__fixed"):t(this).hasClass("bmc__fixed")&&t(this).removeClass("bmc__fixed")})},m=function(){t(this).hasClass("fixed")&&t(this).removeClass("fixed"),t(window).off("resize scroll",f)};this.setScrollTarget=function(t){t!==r.scrollTarget&&(r.scrollTarget=t,t?v():F())};var g,v=function(){n.containers.each(function(){t(this).on("click",' a[href ^= "#"]',p)})},p=function(e){var i=t(this).attr("href"),o=0;switch(typeof r.accountingMenuHeight){case"boolean":r.accountingMenuHeight&&n.containers.each(function(){o+=t(this).outerHeight()});break;case"number":o+=r.accountingMenuHeight;break;case"function":o+=r.accountingMenuHeight(n)}o=Math.round(o);var a="#"===i?0:t(i).offset().top-o;s.animatingScroll=!0,t("html, body").stop().animate({scrollTop:a},r.duration,r.easing,function(){s.animatingScroll=!1,s.reloadActiveFromTarget()}),e.preventDefault()},F=function(){t("html, body").stop(),n.containers.each(function(){t(this).off("click",' a[href ^= "#"]',p)})},M=null;this.setActiveFromTarget=function(t){t!==r.activeFromTarget&&(r.activeFromTarget=t,t?w():T())};var w=function(){s.reloadScrollBlocks(),b(),t(window).on("resize scroll",b)};s.reloadActiveFromTarget=function(){r.activeFromTarget&&b()};var b=function(){if(!s.animatingScroll){var e,i,o=!1,a=!0,c=0;switch(typeof r.accountingMenuHeight){case"boolean":r.accountingMenuHeight&&n.containers.each(function(){c+=t(this).outerHeight()});break;case"number":c+=r.accountingMenuHeight;break;case"function":c+=r.accountingMenuHeight()}if(c=Math.round(c),e=t(this).scrollTop(),e+=c,g.each(function(){var n=t(this).offset().top;e-n>=0&&e-Math.round(n+t(this).outerHeight(!0)-parseFloat(t(this).css("margin-top")))<0&&(a?(i=e-n,o=t(this),a=!1):i>e-n&&(i=e-n,o=t(this)))}),o!==!1){if(o.attr("id")&&void 0!==o.attr("id")&&M!==o.attr("id")){M=o.attr("id");var d=n.containers.multiFind(r.menuItemsAndSubMenu),u=n.containers.find("[href=#"+o.attr("id")+"]").closest(d);d.removeClass("active"),u.addClass("active")}}else M=null,r.deleteClassActiveNoFocusTargetsBlock&&n.containers.multiFind(r.menuItemsAndSubMenu).removeClass("active")}},T=function(){n.containers.multiFind(r.menuItemsAndSubMenu).removeClass("active"),t(window).off("resize scroll",b)};this.setSlider=function(t){t!==r.slider&&(r.slider=t,t?W():I())};var W=function(){s.reloadScrollBlocks(),r.vertical===!1?n.containers.after('<div class="bmc__slider"><div>'):n.containers.after('<div class="bmc__slider_vertical"><div>'),S(),t(window).on("resize scroll",S)},S=function(){var e,i,s,o=!1,a=!1,c=!0,d=0;switch(typeof r.accountingMenuHeight){case"boolean":r.accountingMenuHeight&&n.containers.each(function(){d+=t(this).outerHeight()});break;case"number":d+=r.accountingMenuHeight;break;case"function":d+=r.accountingMenuHeight()}if(d=Math.round(d),e=t(this).scrollTop(),e+=d,g.each(function(){var n=t(this).offset().top;e-n>=0&&e-Math.round(n+t(this).outerHeight(!0)-parseFloat(t(this).css("margin-top")))<0&&(c?(i=e-n,o=t(this),c=!1):i>e-n&&(i=e-n,o=t(this)))}),o!==!1)if(c=!0,g.each(function(){var n=t(this).offset().top;i>e-n&&(c?(s=e-n,a=t(this),c=!1):e-n>s&&(s=e-n,a=t(this)))}),a===!1){if(o.attr("id")&&void 0!==o.attr("id")){var u=n.containers.multiFind(r.menuItemsAndSubMenu);n.containers.each(function(){var e=t(this).closest(r.menuWrap);e.size()&&e.get(0)===this&&(e=t(this).parent("*"));var i=t(this).find("[href=#"+o.attr("id")+"]").closest(u);if(r.vertical===!1){var n=e.offset().left+parseFloat(o.css("border-left-width")),s=i.offset().left-n,a=i.outerWidth();t(this).find(" ~ .bmc__slider").stop(!0,!0).animate({textIndent:s,width:a},{step:function(e,i){"textIndent"==i.prop&&t(this).css("transform","translateX("+e+"px)")},duration:100},"linear")}else{var c=e.offset().top+parseFloat(o.css("border-top-width")),d=i.offset().top-c,l=i.outerHeight();t(this).find(" ~ .bmc__slider_vertical").stop(!0,!0).animate({textIndent:d,height:l},{step:function(e,i){"textIndent"==i.prop&&t(this).css("transform","translateY("+e+"px)")},duration:100},"linear")}})}}else if(o.attr("id")&&void 0!==o.attr("id")&&a.attr("id")&&void 0!==a.attr("id")){var l=o.offset().top-e,h=o.outerHeight(!0)-parseFloat(o.css("margin-top")),u=n.containers.multiFind(r.menuItemsAndSubMenu);n.containers.each(function(){var e=t(this).closest(r.menuWrap);e.size()&&e.get(0)===this&&(e=t(this).parent("*"));var i=Math.abs(l)/h,n=t(this).find("[href=#"+o.attr("id")+"]").closest(u),s=t(this).find("[href=#"+a.attr("id")+"]").closest(u);if(r.vertical===!1){var c=e.offset().left+parseFloat(o.css("border-left-width")),d=n.offset().left-c,f=n.outerWidth(),m=s.offset().left-c,g=s.outerWidth(),v=Math.round(d+(m-d)*i),p=Math.round(f+(g-f)*i);t(this).find(" ~ .bmc__slider").stop(!0,!0).animate({textIndent:v,width:p},{step:function(e,i){"textIndent"==i.prop&&t(this).css("transform","translateX("+e+"px)")},duration:100},"linear")}else{var F=e.offset().top+parseFloat(o.css("border-top-width")),M=n.offset().top-F,w=n.outerHeight(),b=s.offset().top-F,T=s.outerHeight(),W=Math.round(M+(b-M)*i),S=Math.round(w+(T-w)*i);t(this).find(" ~ .bmc__slider_vertical").stop(!0,!0).animate({textIndent:W,height:S},{step:function(e,i){"textIndent"==i.prop&&t(this).css("transform","translateY("+e+"px)")},duration:100},"linear")}})}},I=function(){n.containers.find(" ~ .bmc__slider").remove(),n.containers.find(" ~ .bmc__slider_vertical").remove(),t(window).off("resize scroll",S)};s.reloadScrollBlocks=function(){var e={};g=t(),n.containers.find('a[href ^= "#"]').each(function(){var i=t(this).attr("href");!t(i).size()||i in e||(e[i]=null,g=g.add(t(i)))})};var x=function(){var e={},i={};for(var r in n.responsiveOptions)/\d{2,5}/.test(r)?i[r]=n.responsiveOptions[r]:e[r]=n.responsiveOptions[r];e=t.extend(!0,{},e);var s=new Array;for(var o in i)s.push(o);s=s.sort(function(t,e){return e-t});for(var r in s){var o=s[r];parseInt(o)>Math.round(t(window).width())&&(delete e[o],e=t.extend(!0,e,i[o]))}return e};this.create()};return new n(this)}}(jQuery);