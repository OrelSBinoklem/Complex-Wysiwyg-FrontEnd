{"version":3,"sources":["js/mylib/page-manager-visualizator/map-navigator-iframe.js"],"names":["$","mapNavigatorIFrame","$container","options","this","_options","____","_last_cursor_Y","_last_cursor_X","_create","$iFrame","contents","$mapNavigatorContainer","append","_draggable","_cursor_Y","_cursor_X","_draggableTopTemp","_draggableLeftTemp","find","on","_handlerMove","_handlerKeyDown","_handlerMouseDown","_handlerUp","updateDraggable","_destroy","remove","off","reload","e","which","ctrlKey","shiftKey","altKey","_handlerDown","$mnif","attr","outerWidth","outerHeight","width","height","position","top","left","preventDefault","stop","returnValue","stopPropagation","w","h","w_c","t","l","h_c","wDrag","hDrag","tDrag","lDrag","wDrag_c","hDrag_c","$iframe","$fittingWrap","closest","$outerWrap","minHDraggable","minWDraggable","css","Math","round","borderLeftStyle","borderRightStyle","borderTopStyle","borderBottomStyle","screenX","screenY","stepVertical","stepGorizontal","resTop","resLeft","responsiveToMovementOfTheCursorInAConfinedSpace","movementOfTheCursorInAConfinedSpaceSpred","modules","jQuery"],"mappings":"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","file":"map-navigator-iframe.js","sourcesContent":["(function($){//Модули: \r\n\r\nvar defaultOptions = {\r\n    $mapNavigatorContainer: undefined,\r\n    nameIFrame: \"\",\r\n    minWDraggable: 15,\r\n    minHDraggable: 15,\r\n    responsiveToMovementOfTheCursorInAConfinedSpace: true,//в включённом состоянии запоминает положение курсора, при выходе за границы будет реагировать только при возращении курсора в область реагирования, если отключить то при выходе курсора из области реагирование его состояние будет сбрасываеться и при смене движения модуль будет реагировать неожидая возвращения в область реагирования\r\n    movementOfTheCursorInAConfinedSpaceSpred: 10//насколько курсор должен выйти за границы реагирования чтобы его состояние начало сбрасываться\r\n    //доделать спред(чтоб запоминалось например на 5 пикселей)\r\n};\r\n\r\nvar mapNavigatorIFrame = function($container, options) {\r\n    this._options = options;\r\n    var ____ = this;\r\n\r\n    ____._last_cursor_Y = 0;\r\n    ____._last_cursor_X = 0;\r\n\r\n    this._create = function()\r\n    {\r\n        var $iFrame = $(\"#\"+(____._options.nameIFrame)).contents();\r\n\r\n        ____._options.$mapNavigatorContainer.append('<div class=\"mnif-show-space panel panel-primary\"><div class=\"mnif-draggable panel-body\"></div></div>');\r\n        \r\n        //Свойства для навигатора\r\n        ____._draggable = false;\r\n        ____._cursor_Y = 0;\r\n        ____._cursor_X = 0;\r\n        ____._draggableTopTemp = 0;\r\n        ____._draggableLeftTemp = 0;\r\n        \r\n        //Установка обработчиков событий\r\n        $iFrame.find('body').on('mousemove', ____._handlerMove);\r\n        $('body').on('mousemove', ____._handlerMove);\r\n        $('body').on('keydown', ____._handlerKeyDown);\r\n        $iFrame.find('body').on('keydown', ____._handlerKeyDown);\r\n        ____._options.$mapNavigatorContainer.find(\" .mnif-draggable\").on('mousedown', ____._handlerMouseDown);\r\n        $('body').on('keyup mouseup', ____._handlerUp);\r\n        $iFrame.find('body').on('keyup mouseup', ____._handlerUp);\r\n\r\n        //Инициализация\r\n        ____.updateDraggable();\r\n    }\r\n    \r\n    this._destroy = function()\r\n    {\r\n        ____._options.$mapNavigatorContainer.find(\" .mnif-show-space\").remove();\r\n        \r\n        var $iFrame = $(\"#\"+(____._options.nameIFrame)).contents();\r\n        \r\n        $iFrame.find('body').off('mousemove', ____._handlerMove);\r\n        $('body').off('mousemove', ____._handlerMove);\r\n        $('body').off('keydown', ____._handlerKeyDown);\r\n        $iFrame.find('body').off('keydown', ____._handlerKeyDown);\r\n        ____._options.$mapNavigatorContainer.find(\" .mnif-draggable\").off('mousedown', ____._handlerMouseDown);\r\n        $('body').off('keyup mouseup', ____._handlerUp);\r\n        $iFrame.find('body').off('keyup mouseup', ____._handlerUp);\r\n    }\r\n    \r\n    this.reload = function()\r\n    {\r\n        ____._destroy();\r\n        ____._create();\r\n    }\r\n\r\n    this._handlerKeyDown = function(e) {\r\n        if(e.which == 69 && e.ctrlKey && !e.shiftKey && !e.altKey)\r\n        {\r\n            ____._handlerDown(e);\r\n        }\r\n    }\r\n\r\n    this._handlerMouseDown = function(e) {\r\n        ____._handlerDown(e);\r\n    }\r\n\r\n    this._handlerDown = function(e) {\r\n        if( !____._draggable ) {\r\n            //Фиксация в пикселах (чтоб меньше багов при расчётах было) и центрирование\r\n            var $mnif = ____._options.$mapNavigatorContainer.find(\" .mnif-show-space\");\r\n            $mnif\r\n            .attr(\"style\", \"\");\r\n            //.css({display: \"block\"});\r\n            var w = $mnif.outerWidth();\r\n            var h = $mnif.outerHeight();\r\n            var w_c = $container.find(\" .pmv-outer-wrap\").width();\r\n            var h_c = $container.find(\" .pmv-outer-wrap\").height();\r\n\r\n            //После перемещения в новое окошко центрирование уже нетребуеться\r\n            /*$mnif.css({\r\n                width: Math.round( w ),\r\n                height: Math.round( h ),\r\n                top: Math.round( (h_c - h) / 2 ),\r\n                left: Math.round( (w_c - w) / 2 ),\r\n            });*/\r\n\r\n            ____._draggable = true;\r\n            ____._cursor_X = false;\r\n            ____._cursor_Y = false;\r\n            ____._draggableTopTemp = $container.find(\" .pmv-fitting-wrap\").position().top;\r\n            ____._draggableLeftTemp = $container.find(\" .pmv-fitting-wrap\").position().left;\r\n\r\n            ____.updateDraggable();\r\n        }\r\n\r\n        if(e.preventDefault){e.preventDefault()}else{e.stop()};e.returnValue = false;e.stopPropagation();return false;\r\n    }\r\n    \r\n    //Отпускание клавиш\r\n    this._handlerUp = function(e)\r\n    {\r\n        if( ____._draggable ) {\r\n            /*var $mnif = ____._options.$mapNavigatorContainer.find(\" .mnif-show-space\");\r\n            $mnif.css({display: \"none\"});*/\r\n            ____._draggable = false;\r\n        }\r\n    }\r\n    \r\n    //Обновление карты\r\n    this.updateDraggable = function()\r\n    {\r\n        var $iframe = $(\"#\"+(____._options.nameIFrame));\r\n        var $fittingWrap = $iframe.closest(\".pmv-fitting-wrap\");\r\n        var $outerWrap = $iframe.closest(\".pmv-outer-wrap\");\r\n        var $mnif = ____._options.$mapNavigatorContainer.find(\" .mnif-show-space\");\r\n        var w, h, w_c, t, l, h_c,\r\n        wDrag, hDrag, tDrag, lDrag, wDrag_c, hDrag_c;\r\n        \r\n        w =   $fittingWrap.width();\r\n        h =   $fittingWrap.height();\r\n        t =   $fittingWrap.position().top;\r\n        l =   $fittingWrap.position().left;\r\n        w_c = $outerWrap.width();\r\n        h_c = $outerWrap.height();\r\n        \r\n        wDrag_c = $mnif.width();\r\n        hDrag_c = $mnif.height();\r\n        \r\n        hDrag = h_c / h * hDrag_c;\r\n        if(hDrag < ____._options.minHDraggable) {hDrag = ____._options.minHDraggable;}\r\n        if(hDrag > hDrag_c) {hDrag = hDrag_c;}\r\n        tDrag = t / - (h - h_c) * (hDrag_c - hDrag);\r\n        \r\n        wDrag = w_c / w * wDrag_c;\r\n        if(wDrag < ____._options.minWDraggable){wDrag = ____._options.minWDraggable;}\r\n        if(wDrag > wDrag_c) {wDrag = wDrag_c;}\r\n        lDrag = l / - (w - w_c) * (wDrag_c - wDrag);\r\n\r\n        $mnif.find(\".mnif-draggable\").css({\r\n            width: Math.round( wDrag ),\r\n            height: Math.round( hDrag ),\r\n            top: Math.round( tDrag ),\r\n            left: Math.round( lDrag )\r\n        });\r\n\r\n        //Левый бордер\r\n        if(l >= 0) {\r\n            $mnif.css({borderLeftStyle: \"solid\"});\r\n        } else {\r\n            $mnif.css({borderLeftStyle: \"dashed\"});\r\n        }\r\n\r\n        //Правый бордер\r\n        if(l + w <= w_c) {\r\n            $mnif.css({borderRightStyle: \"solid\"});\r\n        } else {\r\n            $mnif.css({borderRightStyle: \"dashed\"});\r\n        }\r\n\r\n        //Вверхний бордер\r\n        if(t >= 0) {\r\n            $mnif.css({borderTopStyle: \"solid\"});\r\n        } else {\r\n            $mnif.css({borderTopStyle: \"dashed\"});\r\n        }\r\n\r\n        //Нижний бордер\r\n        if(t + h <= h_c) {\r\n            $mnif.css({borderBottomStyle: \"solid\"});\r\n        } else {\r\n            $mnif.css({borderBottomStyle: \"dashed\"});\r\n        }\r\n    }\r\n    \r\n    //Обновление скрытого скролла в IFrame\r\n    this._handlerMove = function(e)\r\n    {\r\n        ____._last_cursor_X = e.screenX;\r\n        ____._last_cursor_Y = e.screenY;\r\n        \r\n        if( ____._draggable )\r\n        {\r\n            if(____._cursor_Y === false) {\r\n                ____._cursor_X = ____._last_cursor_X;\r\n                ____._cursor_Y = ____._last_cursor_Y;\r\n            }\r\n            \r\n            var $iframe = $(\"#\"+(____._options.nameIFrame));\r\n            var $fittingWrap = $iframe.closest(\".pmv-fitting-wrap\");\r\n            var $outerWrap = $iframe.closest(\".pmv-outer-wrap\");\r\n            var $mnif = ____._options.$mapNavigatorContainer.find(\" .mnif-show-space\");\r\n            var w, h, w_c, h_c, t, l,\r\n            wDrag, hDrag, tDrag, lDrag, wDrag_c, hDrag_c,\r\n            stepVertical, stepGorizontal,\r\n            resTop, resLeft;\r\n            \r\n            w =   $fittingWrap.width();\r\n            h =   $fittingWrap.height();\r\n            t =   $fittingWrap.position().top;\r\n            l =   $fittingWrap.position().left;\r\n            w_c = $outerWrap.width();\r\n            h_c = $outerWrap.height();\r\n            \r\n            wDrag_c = $mnif.width();\r\n            hDrag_c = $mnif.height();\r\n            \r\n            //Вычисляем размеры элементов \"за которые можно прокручивать\" на внешнем скролле и отступы для смешения чтоб показать насколько прокручена страница\r\n            hDrag = h_c / h * hDrag_c;\r\n            if(hDrag < ____._options.minHDraggable) {hDrag = ____._options.minHDraggable;}\r\n            \r\n            wDrag = w_c / w * wDrag_c;\r\n            if(wDrag < ____._options.minWDraggable){wDrag = ____._options.minWDraggable;}\r\n\r\n            if(h > h_c) {\r\n                stepVertical   = (h_c - h) / (hDrag_c - hDrag);\r\n\r\n                resTop = (e.screenY - ____._cursor_Y) * stepVertical + ____._draggableTopTemp;\r\n                tDrag = resTop / - (h - h_c) * (hDrag_c - hDrag);\r\n\r\n                if( resTop > 0 ) {\r\n                    resTop = 0;\r\n                    if(!____._options.responsiveToMovementOfTheCursorInAConfinedSpace) {\r\n                        ____._cursor_Y = e.screenY; ____._draggableTopTemp = t;\r\n                    }\r\n                    if(____._options.responsiveToMovementOfTheCursorInAConfinedSpace) {\r\n                        if(tDrag < - ____._options.movementOfTheCursorInAConfinedSpaceSpred) {\r\n                            ____._cursor_Y += tDrag + ____._options.movementOfTheCursorInAConfinedSpaceSpred;\r\n                        }\r\n                    }\r\n                }\r\n                if( resTop < - (h - h_c) ) {\r\n                    resTop = - (h - h_c);\r\n                    if(!____._options.responsiveToMovementOfTheCursorInAConfinedSpace) {\r\n                        ____._cursor_Y = e.screenY; ____._draggableTopTemp = t;\r\n                    }\r\n                    if(____._options.responsiveToMovementOfTheCursorInAConfinedSpace) {\r\n                        if(tDrag > (hDrag_c - hDrag) + ____._options.movementOfTheCursorInAConfinedSpaceSpred) {\r\n                            ____._cursor_Y += tDrag - ((hDrag_c - hDrag) + ____._options.movementOfTheCursorInAConfinedSpaceSpred);\r\n                        }\r\n                    }\r\n                }\r\n                \r\n                $fittingWrap.css({top: Math.round( resTop )});\r\n            }\r\n            \r\n            if(w > w_c) {\r\n                stepGorizontal = (w_c - w) / (wDrag_c - wDrag);\r\n\r\n                resLeft = (e.screenX - ____._cursor_X) * stepGorizontal + ____._draggableLeftTemp;\r\n                lDrag = resLeft / - (w - w_c) * (wDrag_c - wDrag);\r\n\r\n                if( resLeft > 0 ) {\r\n                    resLeft = 0;\r\n                    if(!____._options.responsiveToMovementOfTheCursorInAConfinedSpace) {\r\n                        ____._cursor_X = e.screenX; ____._draggableLeftTemp = l;\r\n                    }\r\n                    if(____._options.responsiveToMovementOfTheCursorInAConfinedSpace) {\r\n                        if(lDrag < - ____._options.movementOfTheCursorInAConfinedSpaceSpred) {\r\n                            ____._cursor_X += lDrag + ____._options.movementOfTheCursorInAConfinedSpaceSpred;\r\n                        }\r\n                    }\r\n                }\r\n                if( resLeft < - (w - w_c) ) {\r\n                    resLeft = - (w - w_c);\r\n                    if(!____._options.responsiveToMovementOfTheCursorInAConfinedSpace) {\r\n                        ____._cursor_X = e.screenX; ____._draggableLeftTemp = l;\r\n                                            \r\n                    }\r\n                    if(____._options.responsiveToMovementOfTheCursorInAConfinedSpace) {\r\n                        if(lDrag > (wDrag_c - wDrag) + ____._options.movementOfTheCursorInAConfinedSpaceSpred) {\r\n                            ____._cursor_X += lDrag - ((wDrag_c - wDrag) + ____._options.movementOfTheCursorInAConfinedSpaceSpred);\r\n                        }\r\n                    }\r\n                }\r\n    \t\t\t\r\n                $fittingWrap.css({left: Math.round( resLeft )});\r\n            }\r\n            \r\n            ____.updateDraggable();\r\n        }\r\n    }\r\n}\r\n\r\nmodules.mapNavigatorIFrame = mapNavigatorIFrame;\r\n    \r\n})(jQuery);"]}