!function(i){var t=function(t,o){this._options=o;var n=this;this._create=function(){n.activeFixation=!1,n.$itemFixation=void 0,n.itemFixationY=void 0,i(window[n._options.nameIFrame].window).on("resize",n._handlerResize)},this._destroy=function(){i(window[n._options.nameIFrame].window).off("resize",n._handlerResize)},this.reload=function(){n._destroy(),n._create()},this.startFixation=function(){if(void 0!==window[n._options.nameIFrame]){n.activeFixation=!0,n.$itemFixation=void 0;var t,o,e,a,s,r,d,c,h=i("#"+n._options.nameIFrame).contents().find("body");switch(s=i(window[n._options.nameIFrame].window).width(),r=i(window[n._options.nameIFrame].window).height(),e=i(window[n._options.nameIFrame].window).scrollTop(),a=i(window[n._options.nameIFrame].window).scrollLeft(),n._options.gorizontalFixation){case"left":c=0;break;case"center":c=s/2;break;case"right":c=s}switch(n._options.verticalFixation){case"top":d=0;break;case"center":d=r/2;break;case"bottom":d=r}var p=new Array,f=new Array,l=new Array;if(h.find(" *:visible").each(function(){"fixed"==i(this).css("position").toLowerCase()&&i(this).attr("data-this-el-position-fixed","this-el-position-fixed")}),h.find(" *:visible").not(h.find(' [data-this-el-position-fixed="this-el-position-fixed"] *')).not(h.find(' [data-this-el-position-fixed="this-el-position-fixed"]')).each(function(){var h=i(this).offset(),m=Math.round(h.top),w=Math.round(h.left),x=Math.round(i(this).outerWidth()),F=Math.round(i(this).outerHeight());switch(n._options.gorizontalFixation){case"left":t=w-a;break;case"center":t=w-a+x/2;break;case"right":t=w-a+x}switch(t=Math.round(t),n._options.verticalFixation){case"top":o=m-e;break;case"center":o=m-e+F/2;break;case"bottom":o=m-e+F}o=Math.round(o),t+x>=0&&t<=s&&o+F>=0&&o<=r&&(p.push(i(this)),f.push(Math.sqrt(Math.pow(c-t,2)+Math.pow(d-o,2))),l.push(o))}),p.length){var m,w;m=f[0],w=0;for(var x in p)f[x]<m&&(m=f[x],w=x);if(n.$itemFixation=p[w],n.itemFixationY=l[w],n._options.stopAllAnimationsAtResize){var F=i("#"+n._options.nameIFrame).contents().find("head");F.append('<style type="text/css" class="fixation-content-at-resize-stop-all-animations"></style>'),F.find(" .fixation-content-at-resize-stop-all-animations").html("body, body *{transition-duration: 0s !important;}")}}}},this.stopFixation=function(){n.activeFixation=!1,i("#"+n._options.nameIFrame).contents().find("body").find(" *").removeAttr("data-this-el-position-fixed"),n._options.stopAllAnimationsAtResize&&i("#"+n._options.nameIFrame).contents().find("head").find(" .fixation-content-at-resize-stop-all-animations").remove()},this._handlerResize=function(){if(n.activeFixation&&void 0!==n.$itemFixation){var o=i(window[n._options.nameIFrame].window).scrollTop(),e=n.$itemFixation.offset(),a=e.top,s=n.$itemFixation.outerHeight(),r=null;switch(n._options.verticalFixation){case"top":r=a-o;break;case"center":r=a-o+s/2;break;case"bottom":r=a-o+s}i(window[n._options.nameIFrame].window).scrollTop(Math.round(o+r-n.itemFixationY)),t.trigger("fcar.scroll")}}};modules.fixationContentAtResize=t}(jQuery);
//# sourceMappingURL=fixation-content-at-resize.js.map
