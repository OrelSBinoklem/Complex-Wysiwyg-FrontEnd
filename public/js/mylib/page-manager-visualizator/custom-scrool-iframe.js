!function(o){var e=function(e,n){this._options=n;var r=this;r.$fix_animate=o('<div class="csif-fix-animate"></div>'),this._create=function(){r._initPasteHTML();var n=o("#"+r._options.nameIFrame).contents();n.find(" head").append('\n            <style id="csif-clear-scroll-body" type="text/css">\n                body {\n                    overflow: hidden !important;\n                }\n            </style>\n        '),n.find(" body").css({overflow:"hidden"}),r._Y_Scrollable=!1,r._X_Scrollable=!1,r._cursor_Y=0,r._cursor_X=0,r._topScrollIFrameTemp=0,r._leftScrollIFrameTemp=0,o(window[r._options.nameIFrame].window).on("resize scroll",r.updateOuterScroll),o(window).on("resize",r.updateOuterScroll),e.find(" .csif-outer-scroll-v .scrolling").on("mousedown",r._handlerDown_Y),e.find(" .csif-outer-scroll-g .scrolling").on("mousedown",r._handlerDown_X),n.find("body").on("mouseup",r._handlerUp),o("body").on("mouseup",r._handlerUp),n.find("body").on("mousemove",r._handlerMove),o("body").on("mousemove",r._handlerMove),e.find(" .csif-outer-scroll-v .arrow-top").on("mousedown",r._handlerArrowTop),e.find(" .csif-outer-scroll-v .arrow-bottom").on("mousedown",r._handlerArrowBottom),e.find(" .csif-outer-scroll-g .arrow-left").on("mousedown",r._handlerArrowLeft),e.find(" .csif-outer-scroll-g .arrow-right").on("mousedown",r._handlerArrowRight),e.find(" .csif-outer-scroll-v .arrow").on("mouseup mouseleave",r._handlerArrowLeave),e.find(" .csif-outer-scroll-g .arrow").on("mouseup mouseleave",r._handlerArrowLeave),n.find("body").on("wheel",r._handlerMouseWheel),r.updateOuterScroll()},this._destroy=function(){var n=o("#"+r._options.nameIFrame).contents();e.find(" .csif-outer-scroll-v").remove(),e.find(" .csif-outer-scroll-g").remove(),e.find(" .csif-square").remove(),o(window).off("resize",r.updateOuterScroll),n.find("body").off("mouseup",r._handlerUp),o("body").off("mouseup",r._handlerUp),n.find("body").off("mousemove",r._handlerMove),o("body").off("mousemove",r._handlerMove),e.find(" .csif-outer-scroll-v .arrow-top").off("mousedown",r._handlerArrowTop),e.find(" .csif-outer-scroll-v .arrow-bottom").off("mousedown",r._handlerArrowBottom),e.find(" .csif-outer-scroll-g .arrow-left").off("mousedown",r._handlerArrowLeft),e.find(" .csif-outer-scroll-g .arrow-right").off("mousedown",r._handlerArrowRight),e.find(" .csif-outer-scroll-v .arrow").off("mouseup mouseleave",r._handlerArrowLeave),e.find(" .csif-outer-scroll-g .arrow").off("mouseup mouseleave",r._handlerArrowLeave),n.find("body").off("wheel",r._handlerMouseWheel)},this.reload=function(){r._destroy(),r._create()},this._initPasteHTML=function(){e.append('\n            <div class="csif-outer-scroll-v">\n                <div class="csif-container">\n                    <div class="arrow arrow-top"><i class="glyphicon glyphicon-chevron-up"></i></div>\n                    <div class="arrow arrow-bottom"><i class="glyphicon glyphicon-chevron-down"></i></div>\n                    <div class="scrolling-container">\n                        <div class="scrolling"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="csif-outer-scroll-g">\n                <div class="csif-container">\n                    <div class="arrow arrow-left"><i class="glyphicon glyphicon-chevron-left"></i></div>\n                    <div class="arrow arrow-right"><i class="glyphicon glyphicon-chevron-right"></i></div>\n                    <div class="scrolling-container">\n                        <div class="scrolling"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="csif-square"></div>\n        ')},this.updateOuterScroll=function(){var n,i,l,t,s,a,c,d,f,w,m,u,h=window[r._options.nameIFrame];o("#"+r._options.nameIFrame).contents();n=o(h.window).width(),i=o(h.window).height(),l=o(h.document).width(),t=o(h.document).height(),s=o(h.window).scrollTop(),a=o(h.window).scrollLeft(),f=e.find(" .csif-outer-scroll-v .scrolling-container").height(),w=e.find(" .csif-outer-scroll-g .scrolling-container").width(),d=Math.round(i/t*f),d<r._options.minHOuterScroll&&(d=r._options.minHOuterScroll),m=Math.round(s/(t-i)*(f-d)),c=Math.round(n/l*w),c<r._options.minWOuterScroll&&(c=r._options.minWOuterScroll),u=Math.round(a/(l-n)*(w-c)),e.find(" .csif-outer-scroll-v .scrolling").css({height:d,marginTop:m}),e.find(" .csif-outer-scroll-g .scrolling").css({width:c,marginLeft:u})},this._handlerDown_Y=function(e){r._Y_Scrollable=!0,r._cursor_Y=e.screenY,r._topScrollIFrameTemp=o(window[r._options.nameIFrame].window).scrollTop()},this._handlerDown_X=function(e){r._X_Scrollable=!0,r._cursor_X=e.screenX,r._leftScrollIFrameTemp=o(window[r._options.nameIFrame].window).scrollLeft()},this._handlerUp=function(){r._Y_Scrollable=!1,r._X_Scrollable=!1},this._handlerMove=function(n){if(r._Y_Scrollable||r._X_Scrollable){var i,l,t,s,a,c,d,f,w,m,u,h,_=window[r._options.nameIFrame];o("#"+r._options.nameIFrame).contents();i=o(_.window).width(),l=o(_.window).height(),t=o(_.document).width(),s=o(_.document).height(),o(_.window).scrollTop(),o(_.window).scrollLeft(),d=e.find(" .csif-outer-scroll-v .scrolling-container").height(),f=e.find(" .csif-outer-scroll-g .scrolling-container").width(),c=l/s*d,c<r._options.minHOuterScroll&&(c=r._options.minHOuterScroll),a=i/t*f,a<r._options.minWOuterScroll&&(a=r._options.minWOuterScroll),r._Y_Scrollable&&(u=(s-l)/(d-c),w=Math.round((n.screenY-r._cursor_Y)*u+r._topScrollIFrameTemp),w<0&&(w=0),w>s-l&&(w=s-l),o(_.window).scrollTop(w),e.trigger("csif.scroll")),r._X_Scrollable&&(h=(t-i)/(f-a),m=Math.round((n.screenX-r._cursor_X)*h+r._leftScrollIFrameTemp),m<0&&(m=0),m>t-i&&(m=t-i),o(_.window).scrollLeft(m),e.trigger("csif.scroll"))}},this._handlerArrowTop=function(){var n=window[r._options.nameIFrame];o(this).addClass("active");var i=o(n.window).scrollTop();r.$fix_animate.css({top:i}),r.$fix_animate.stop().animate({top:0},{duration:Math.round(i/r._options.pixelsScrollableInSeconds*1e3),easing:"linear",complete:function(){o(n.window).scrollTop(0),e.trigger("csif.scroll")},step:function(r,i){o(n.window).scrollTop(r),e.trigger("csif.scroll")}})},this._handlerArrowBottom=function(){var n=window[r._options.nameIFrame];o(this).addClass("active");var i,l,t;i=o(n.window).height(),l=o(n.document).height(),t=o(n.window).scrollTop();var s=l-i;r.$fix_animate.css({top:t}),r.$fix_animate.stop().animate({top:s},{duration:Math.round((l-i-t)/r._options.pixelsScrollableInSeconds*1e3),easing:"linear",complete:function(){o(n.window).scrollTop(s),e.trigger("csif.scroll")},step:function(r,i){o(n.window).scrollTop(r),e.trigger("csif.scroll")}})},this._handlerArrowLeft=function(){var n=window[r._options.nameIFrame];o(this).addClass("active");var i=o(n.window).scrollLeft();r.$fix_animate.css({left:i}),r.$fix_animate.stop().animate({left:0},{duration:Math.round(i/r._options.pixelsScrollableInSeconds*1e3),easing:"linear",complete:function(){o(n.window).scrollLeft(0),e.trigger("csif.scroll")},step:function(r,i){o(n.window).scrollLeft(r),e.trigger("csif.scroll")}})},this._handlerArrowRight=function(){var n=window[r._options.nameIFrame];o(this).addClass("active");var i,l,t;i=o(n.window).width(),l=o(n.document).width(),t=o(n.window).scrollLeft();var s=l-i;r.$fix_animate.css({left:t}),r.$fix_animate.stop().animate({left:s},{duration:Math.round((l-i-t)/r._options.pixelsScrollableInSeconds*1e3),easing:"linear",complete:function(){o(n.window).scrollLeft(s),e.trigger("csif.scroll")},step:function(r,i){o(n.window).scrollLeft(r),e.trigger("csif.scroll")}})},this._handlerArrowLeave=function(){r.$fix_animate.stop(),o(this).removeClass("active")},this._mouseWheelAnimated=!1,this._tempWheelAnimated=0,this._handlerMouseWheel=function(n){function i(o){return o>0?1:0===o?0:-1}if(void 0!==window[r._options.nameIFrame]){var l;"mozMovementY"in n.originalEvent?(l=n.originalEvent.deltaY||-1*n.originalEvent.wheelDelta,l*=40):/rv\:11/.test(navigator.userAgent)?l=(n.originalEvent.deltaY||-1*n.originalEvent.wheelDelta)>0?120:-120:/Firefox\//.test(navigator.userAgent)?(l=n.originalEvent.deltaY||-1*n.originalEvent.wheelDelta,l*=40):(l=n.originalEvent.deltaY||-1*n.originalEvent.wheelDelta,Math.abs(l)<50&&(l*=120));var t=window[r._options.nameIFrame];topScroll=o(t.window).scrollTop(),r._mouseWheelAnimated?i(r._tempWheelAnimated-topScroll)!==i(l)?r._tempWheelAnimated=topScroll+l:r._tempWheelAnimated+=l:r._tempWheelAnimated=topScroll+l,r._mouseWheelAnimated=!0,r.$fix_animate.css({top:topScroll}),r.$fix_animate.stop().animate({top:r._tempWheelAnimated},{duration:100,easing:"linear",complete:function(){o(t.window).scrollTop(r._tempWheelAnimated),r._mouseWheelAnimated=!1,e.trigger("csif.scroll")},step:function(n,r){o(t.window).scrollTop(n),e.trigger("csif.scroll")}})}}};modules.customScrollIFrame=e}(jQuery);
//# sourceMappingURL=custom-scrool-iframe.js.map
