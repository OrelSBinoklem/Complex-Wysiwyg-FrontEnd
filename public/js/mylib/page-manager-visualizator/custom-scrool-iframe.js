!function(o){var e=function(e,n){this._options=n;var i=this;i.$fix_animate=o('<div class="csif-fix-animate"></div>'),this._create=function(){i._initPasteHTML();var n=o("#"+i._options.nameIFrame).contents();n.find(" head").append('\n            <style id="csif-clear-scroll-body" type="text/css">\n                body {\n                    overflow: hidden;\n                }\n            </style>\n        '),n.find(" body").css({overflow:"hidden"}),i._Y_Scrollable=!1,i._X_Scrollable=!1,i._cursor_Y=0,i._cursor_X=0,i._topScrollIFrameTemp=0,i._leftScrollIFrameTemp=0,o(window[i._options.nameIFrame].window).on("resize scroll",i.updateOuterScroll),o(window).on("resize",i.updateOuterScroll),e.find(" .csif-outer-scroll-v .scrolling").on("mousedown",i._handlerDown_Y),e.find(" .csif-outer-scroll-g .scrolling").on("mousedown",i._handlerDown_X),n.find("body").on("mouseup",i._handlerUp),o("body").on("mouseup",i._handlerUp),n.find("body").on("mousemove",i._handlerMove),o("body").on("mousemove",i._handlerMove),e.find(" .csif-outer-scroll-v .arrow-top").on("mousedown",i._handlerArrowTop),e.find(" .csif-outer-scroll-v .arrow-bottom").on("mousedown",i._handlerArrowBottom),e.find(" .csif-outer-scroll-g .arrow-left").on("mousedown",i._handlerArrowLeft),e.find(" .csif-outer-scroll-g .arrow-right").on("mousedown",i._handlerArrowRight),e.find(" .csif-outer-scroll-v .arrow").on("mouseup mouseleave",i._handlerArrowLeave),e.find(" .csif-outer-scroll-g .arrow").on("mouseup mouseleave",i._handlerArrowLeave),n.find("body").on("wheel",i._handlerMouseWheel),i.updateOuterScroll()},this._destroy=function(){var n=o("#"+i._options.nameIFrame).contents();e.find(" .csif-outer-scroll-v").remove(),e.find(" .csif-outer-scroll-g").remove(),e.find(" .csif-square").remove(),o(window).off("resize",i.updateOuterScroll),n.find("body").off("mouseup",i._handlerUp),o("body").off("mouseup",i._handlerUp),n.find("body").off("mousemove",i._handlerMove),o("body").off("mousemove",i._handlerMove),n.find("body").off("wheel",i._handlerMouseWheel)},this.reload=function(){i._destroy(),i._create()},this._initPasteHTML=function(){e.append('\n            <div class="csif-outer-scroll-v">\n                <div class="csif-container">\n                    <div class="arrow arrow-top"><i class="glyphicon glyphicon-chevron-up"></i></div>\n                    <div class="arrow arrow-bottom"><i class="glyphicon glyphicon-chevron-down"></i></div>\n                    <div class="scrolling-container">\n                        <div class="scrolling"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="csif-outer-scroll-g">\n                <div class="csif-container">\n                    <div class="arrow arrow-left"><i class="glyphicon glyphicon-chevron-left"></i></div>\n                    <div class="arrow arrow-right"><i class="glyphicon glyphicon-chevron-right"></i></div>\n                    <div class="scrolling-container">\n                        <div class="scrolling"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="csif-square"></div>\n        ')},this.updateOuterScroll=function(){var n,l,r,t,s,a,c,d,m,w,u,f,h=window[i._options.nameIFrame];o("#"+i._options.nameIFrame).contents();n=o(h.window).width(),l=o(h.window).height(),r=o(h.document).width(),t=o(h.document).height(),s=o(h.window).scrollTop(),a=o(h.window).scrollLeft(),m=e.find(" .csif-outer-scroll-v .scrolling-container").height(),w=e.find(" .csif-outer-scroll-g .scrolling-container").width(),d=Math.round(l/t*m),d<i._options.minHOuterScroll&&(d=i._options.minHOuterScroll),u=Math.round(s/(t-l)*(m-d)),c=Math.round(n/r*w),c<i._options.minWOuterScroll&&(c=i._options.minWOuterScroll),f=Math.round(a/(r-n)*(w-c)),e.find(" .csif-outer-scroll-v .scrolling").css({height:d,marginTop:u}),e.find(" .csif-outer-scroll-g .scrolling").css({width:c,marginLeft:f})},this._handlerDown_Y=function(e){i._Y_Scrollable=!0,i._cursor_Y=e.screenY,i._topScrollIFrameTemp=o(window[i._options.nameIFrame].window).scrollTop()},this._handlerDown_X=function(e){i._X_Scrollable=!0,i._cursor_X=e.screenX,i._leftScrollIFrameTemp=o(window[i._options.nameIFrame].window).scrollLeft()},this._handlerUp=function(){i._Y_Scrollable=!1,i._X_Scrollable=!1},this._handlerMove=function(n){if(i._Y_Scrollable||i._X_Scrollable){var l,r,t,s,a,c,d,m,w,u,f,h,_,p,v=window[i._options.nameIFrame];o("#"+i._options.nameIFrame).contents();l=o(v.window).width(),r=o(v.window).height(),t=o(v.document).width(),s=o(v.document).height(),a=o(v.window).scrollTop(),c=o(v.window).scrollLeft(),w=e.find(" .csif-outer-scroll-v .scrolling-container").height(),u=e.find(" .csif-outer-scroll-g .scrolling-container").width(),m=r/s*w,m<i._options.minHOuterScroll&&(m=i._options.minHOuterScroll),d=l/t*u,d<i._options.minWOuterScroll&&(d=i._options.minWOuterScroll),i._Y_Scrollable&&(_=(s-r)/(w-m),f=Math.round((n.screenY-i._cursor_Y)*_+i._topScrollIFrameTemp),f<0&&(f=0),f>s-r&&(f=s-r),o(v.window).scrollTop(f)),i._X_Scrollable&&(p=(t-l)/(u-d),h=Math.round((n.screenX-i._cursor_X)*p+i._leftScrollIFrameTemp),h<0&&(h=0),h>t-l&&(h=t-l),o(v.window).scrollLeft(h))}},this._handlerArrowTop=function(){var e=window[i._options.nameIFrame];o(this).addClass("active");var n=o(e.window).scrollTop();i.$fix_animate.css({top:n}),i.$fix_animate.stop().animate({top:0},{duration:Math.round(n/i._options.pixelsScrollableInSeconds*1e3),easing:"linear",complete:function(){o(e.window).scrollTop(0)},step:function(n,i){o(e.window).scrollTop(n)}})},this._handlerArrowBottom=function(){var e=window[i._options.nameIFrame];o(this).addClass("active");var n,l,r;n=o(e.window).height(),l=o(e.document).height(),r=o(e.window).scrollTop();var t=l-n;i.$fix_animate.css({top:r}),i.$fix_animate.stop().animate({top:t},{duration:Math.round((l-n-r)/i._options.pixelsScrollableInSeconds*1e3),easing:"linear",complete:function(){o(e.window).scrollTop(t)},step:function(n,i){o(e.window).scrollTop(n)}})},this._handlerArrowLeft=function(){var e=window[i._options.nameIFrame];o(this).addClass("active");var n=o(e.window).scrollLeft();i.$fix_animate.css({left:n}),i.$fix_animate.stop().animate({left:0},{duration:Math.round(n/i._options.pixelsScrollableInSeconds*1e3),easing:"linear",complete:function(){o(e.window).scrollLeft(0)},step:function(n,i){o(e.window).scrollLeft(n)}})},this._handlerArrowRight=function(){var e=window[i._options.nameIFrame];o(this).addClass("active");var n,l,r;n=o(e.window).width(),l=o(e.document).width(),r=o(e.window).scrollLeft();var t=l-n;i.$fix_animate.css({left:r}),i.$fix_animate.stop().animate({left:t},{duration:Math.round((l-n-r)/i._options.pixelsScrollableInSeconds*1e3),easing:"linear",complete:function(){o(e.window).scrollLeft(t)},step:function(n,i){o(e.window).scrollLeft(n)}})},this._handlerArrowLeave=function(){i.$fix_animate.stop(),o(this).removeClass("active")},this._mouseWheelAnimated=!1,this._tempWheelAnimated=0,this._handlerMouseWheel=function(e){function n(o){return o>0?1:0===o?0:-1}var l;"mozMovementY"in e.originalEvent?(l=e.originalEvent.deltaY||-1*e.originalEvent.wheelDelta,l*=40):l=/rv\:11/.test(navigator.userAgent)?(e.originalEvent.deltaY||-1*e.originalEvent.wheelDelta)>0?120:-120:e.originalEvent.deltaY||-1*e.originalEvent.wheelDelta;var r=window[i._options.nameIFrame];topScroll=o(r.window).scrollTop(),i._mouseWheelAnimated?n(i._tempWheelAnimated-topScroll)!==n(l)?i._tempWheelAnimated=topScroll+l:i._tempWheelAnimated+=l:i._tempWheelAnimated=topScroll+l,i._mouseWheelAnimated=!0,i.$fix_animate.css({top:topScroll}),i.$fix_animate.stop().animate({top:i._tempWheelAnimated},{duration:100,easing:"linear",complete:function(){o(r.window).scrollTop(i._tempWheelAnimated),i._mouseWheelAnimated=!1},step:function(e,n){o(r.window).scrollTop(e)}})}};modules.customScrollIFrame=e}(jQuery);
//# sourceMappingURL=custom-scrool-iframe.js.map
