!function(e){var s=function(s,i){this._options=i;var t=this;t.$container=s,this._create=function(i){s.append('<div class="pp-design"></div>'),t.intervalRefreshByResizeDocument=null,t.wIFrame=null,t.changePositionTemp={},e(window[t._options.nameIFrame].window).on("scroll",t._refreshByScroll),e(window[t._options.nameIFrame].window).on("resize",t._refreshByResizeDocument),t.intervalRefreshByResizeDocument=setInterval(function(){var s=window[t._options.nameIFrame];null!==t.wIFrame&&t.wIFrame===Math.round(e(s.document).width())||(t.wIFrame=Math.round(e(s.document).width()),t._refreshByResizeDocument())},1e3)},this._destroy=function(){null!==t.intervalRefreshByResizeDocument&&clearInterval(t.intervalRefreshByResizeDocument),s.find(" .pp-design").remove()},this._refreshByScroll=function(){var i=s.find(" .pp-design"),n=window[t._options.nameIFrame];void 0!==n&&i.find(" .pp-screen-static").css({top:"-"+Math.round(e(n.window).scrollTop())+"px",left:"-"+Math.round(e(n.window).scrollLeft())+"px"})},this._refreshByResizeDocument=function(){var i=window[t._options.nameIFrame];if(void 0!==i){s.find(" .pp-design").find(" .pp-screen-static").css({width:Math.round(e(i.document).width())})}},this.refreshScrins=function(e,s){if(null!==e){var i=!1,n=!1;if("collectionScrinsTemp"in t)if(typeof t.collectionScrinsTemp!=typeof e)i=!0;else if(t.collectionScrinsTemp.length!=e.length)i=!0;else for(var r in t.collectionScrinsTemp){var p=t.collectionScrinsTemp[r],c=e[r];if(p.urn!==c.urn||p.active!==c.active){i=!0;break}p.pos===c.pos&&p.l===c.l&&p.t===c.t&&p.lpx===c.lpx&&p.tpx===c.tpx&&p.lper===c.lper&&p.tper===c.tper||(n=!0)}else i=!0;i?t.refreshAllScrins(e,s):n&&t.refreshPosScrins(e),t._refreshByScroll(),t._refreshByResizeDocument()}else t._deleteScrins()},this._deleteScrins=function(){s.find(" .pp-design").empty()},this.refreshAllScrins=function(e,i){t._deleteScrins();var n=s.find(" .pp-design"),r="";t.collectionScrinsTemp=[];for(var p in e){var c=e[p],o={};if(t.collectionScrinsTemp.push(o),c.active){"static"==c.pos&&(c.t="top");var a,l,d,f;switch(c.l){case"left":a=0,d=0;break;case"center":a=50,d=-50;break;case"right":a=100,d=-100}switch(c.t){case"top":l=0,f=0;break;case"center":l=50,f=-50;break;case"bottom":l=100,f=-100}r+='                    <div class="pp-screen-design pp-screen-'+("static"==c.pos?"static":"fixed")+'">                        <div style="left: '+(c.lper+a)+"%; top: "+(c.tper+l)+'%;" class="pp-wrap-deviation-percent">                            <div style="width: '+i[c.urn].w+"px; height: "+i[c.urn].h+"px; left: "+c.lpx+"px; top: "+c.tpx+'px;" class="pp-wrap-deviation-pixels">                                <img src="'+t._options.dirScrins+"/"+c.urn+'" style="width: '+i[c.urn].w+"px; height: "+i[c.urn].h+"px; left: "+d+"%; top: "+f+'%;"/>                            </div>                        </div>                    </div>'}}n.append(r),t._refreshByScroll(),t._refreshByResizeDocument()},this.refreshPosScrins=function(i){var n=s.find(" .pp-design"),r=0;n.find(" .pp-screen-design").each(function(){do{r++;var s=t.collectionScrinsTemp[r-1],n=i[r-1];if(s.pos!==n.pos||s.l!==n.l||s.t!==n.t||s.lpx!==n.lpx||s.tpx!==n.tpx||s.lper!==n.lper||s.tper!==n.tper){if(s.pos=n.pos,s.l=n.l,s.t=n.t,s.lpx=n.lpx,s.tpx=n.tpx,s.lper=n.lper,s.tper=n.tper,!n.active)continue;"static"==n.pos&&(n.t="top");var p,c,o,a;switch(n.l){case"left":p=0,o=0;break;case"center":p=50,o=-50;break;case"right":p=100,o=-100}switch(n.t){case"top":c=0,a=0;break;case"center":c=50,a=-50;break;case"bottom":c=100,a=-100}"static"==n.pos?e(this).hasClass("pp-screen-static")||e(this).removeClass("pp-screen-fixed").addClass("pp-screen-static"):e(this).hasClass("pp-screen-fixed")||e(this).removeClass("pp-screen-static").addClass("pp-screen-fixed"),e(this).find(" .pp-wrap-deviation-percent").css({left:n.lper+p+"%",top:n.tper+c+"%"}),e(this).find(" .pp-wrap-deviation-pixels").css({left:n.lpx,top:n.tpx}),e(this).find(" img").css({left:o+"%",top:a+"%"})}}while(!1)})},this.showPageProofsOrDesign=function(i){switch(i){case 0:s.find(" .pp-design").css({opacity:0}),e("#"+t._options.nameIFrame).css({opacity:1});break;case 1:s.find(" .pp-design").css({opacity:1}),e("#"+t._options.nameIFrame).css({opacity:.5});break;case 2:s.find(" .pp-design").css({opacity:1}),e("#"+t._options.nameIFrame).css({opacity:0})}}};modules.pixelPerfect=s}(jQuery);
//# sourceMappingURL=pixel-perfect.js.map
