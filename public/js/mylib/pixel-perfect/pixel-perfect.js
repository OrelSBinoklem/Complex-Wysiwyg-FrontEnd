!function(e){var t=function(t,i){this._options=i;var n=this;n.$container=t,this._create=function(s){t.append('<div class="pp-design"></div>'),n.intervalRefreshByResizeDocument=null,n.wIFrame=null,n.changePositionTemp={},e(window[n._options.nameIFrame].window).on("scroll",n._refreshByScroll),e(window[n._options.nameIFrame].window).on("resize",n._refreshByResizeDocument),n.intervalRefreshByResizeDocument=setInterval(function(){var s=window[n._options.nameIFrame];null!==n.wIFrame&&n.wIFrame===Math.round(e(s.document).width())||(n.wIFrame=Math.round(e(s.document).width()),n._refreshByResizeDocument())},1e3)},this._destroy=function(){null!==n.intervalRefreshByResizeDocument&&clearInterval(n.intervalRefreshByResizeDocument),t.find(" .pp-design").remove()},this.setSizeIFrame=function(s,t){e("#"+n._options.nameIFrame).closest(".pmv-fitting-wrap").stop().animate({width:s+"px",height:t+"px"},1e3)},this._refreshByScroll=function(){var s=t.find(" .pp-design"),i=window[n._options.nameIFrame];s.find(" .pp-screen-static").css({top:"-"+Math.round(e(i.window).scrollTop())+"px",left:"-"+Math.round(e(i.window).scrollLeft())+"px"})},this._refreshByResizeDocument=function(){var s=t.find(" .pp-design"),i=window[n._options.nameIFrame];s.find(" .pp-screen-static").css({width:Math.round(e(i.document).width())})},this.refreshScrins=function(e,s){var t=!1,i=!1;if("collectionScrinsTemp"in n)if(n.collectionScrinsTemp.length!=e.length)t=!0;else for(var r in n.collectionScrinsTemp){var p=n.collectionScrinsTemp[r],c=e[r];if(p.urn!==c.urn||p.active!==c.active){t=!0;break}p.pos===c.pos&&p.l===c.l&&p.t===c.t&&p.lpx===c.lpx&&p.tpx===c.tpx&&p.lper===c.lper&&p.tper===c.tper||(i=!0)}else t=!0;t?n.refreshAllScrins(e,s):i&&n.refreshPosScrins(e),n._refreshByScroll(),n._refreshByResizeDocument()},this._deleteScrins=function(){t.find(" .pp-design").empty()},this.refreshAllScrins=function(e,s){n._deleteScrins();var i=t.find(" .pp-design"),r="";n.collectionScrinsTemp=[];for(var p in e){var c=e[p],o={};n.collectionScrinsTemp.push(o);for(var a in c)o[a]=c[a];if(c.active){"static"==c.pos&&(c.t="top");var l,d,f,h;switch(c.l){case"left":l=0,f=0;break;case"center":l=50,f=-50;break;case"right":l=100,f=-100}switch(c.t){case"top":d=0,h=0;break;case"center":d=50,h=-50;break;case"bottom":d=100,h=-100}r+='                    <div class="pp-screen-design pp-screen-'+("static"==c.pos?"static":"fixed")+'">                        <div style="left: '+(c.lper+l)+"%; top: "+(c.tper+d)+'%;" class="pp-wrap-deviation-percent">                            <div style="width: '+s[c.urn].w+"px; height: "+s[c.urn].h+"px; left: "+c.lpx+"px; top: "+c.tpx+'px;" class="pp-wrap-deviation-pixels">                                <img src="'+n._options.dirScrins+"/"+c.urn+'" style="width: '+s[c.urn].w+"px; height: "+s[c.urn].h+"px; left: "+f+"%; top: "+h+'%;"/>                            </div>                        </div>                    </div>'}}i.append(r),n._refreshByScroll(),n._refreshByResizeDocument()},this.refreshPosScrins=function(i){var r=t.find(" .pp-design"),p=0;r.find(" .pp-screen-design").each(function(){do{p++;var t=n.collectionScrinsTemp[p-1],r=i[p-1];if(t.pos!==r.pos||t.l!==r.l||t.t!==r.t||t.lpx!==r.lpx||t.tpx!==r.tpx||t.lper!==r.lper||t.tper!==r.tper){if(t.pos=r.pos,t.l=r.l,t.t=r.t,t.lpx=r.lpx,t.tpx=r.tpx,t.lper=r.lper,t.tper=r.tper,!r.active)continue;"static"==r.pos&&(r.t="top");var c,o,a,l;switch(r.l){case"left":c=0,a=0;break;case"center":c=50,a=-50;break;case"right":c=100,a=-100}switch(r.t){case"top":o=0,l=0;break;case"center":o=50,l=-50;break;case"bottom":o=100,l=-100}"static"==r.pos?e(this).hasClass("pp-screen-static")||e(this).removeClass("pp-screen-fixed").addClass("pp-screen-static"):e(this).hasClass("pp-screen-fixed")||e(this).removeClass("pp-screen-static").addClass("pp-screen-fixed"),e(this).find(" .pp-wrap-deviation-percent").css({left:r.lper+c+"%",top:r.tper+o+"%"}),e(this).find(" .pp-wrap-deviation-pixels").css({left:s.lpx,top:s.tpx}),e(this).find(" img").css({left:a+"%",top:l+"%"})}}while(!1)})},this.showPageProofsOrDesign=function(s){switch(s){case 0:t.find(" .pp-design").css({opacity:0}),e("#"+n._options.nameIFrame).css({opacity:1});break;case 1:t.find(" .pp-design").css({opacity:1}),e("#"+n._options.nameIFrame).css({opacity:.5});break;case 2:t.find(" .pp-design").css({opacity:1}),e("#"+n._options.nameIFrame).css({opacity:0})}}};modules.pixelPerfect=t}(jQuery);
//# sourceMappingURL=pixel-perfect.js.map
